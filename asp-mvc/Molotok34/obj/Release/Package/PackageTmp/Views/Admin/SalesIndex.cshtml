@model IEnumerable<Molotok34.Models.Sales>

@{
    ViewBag.Title = "Продажи";
}

@Html.Partial("~/Views/Shared/_AdminHeader.cshtml")
@Html.Partial("~/Views/Shared/_NavAdmin.cshtml")

<div class="col">
    <h3 class="text-center font-weight-bold py-4">Продажи</h3>
    <div class="shadow">
        <div class="row p-4">
            @if (TempData["error_message"] != null)
            {
                <div class="alert alert-success alert-dismissible fade show w-100" role="alert">
                    <p class="m-0">@TempData["error_message"]</p>
                </div>
                TempData["error_message"] = null;
            }
            <a href="/Admin/SalesCreate" class="btn btn-success my-2" data-toggle="modal">Добавить продажу</a>
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>
                            Товар
                        </th>
                        <th>
                            Клиент
                        </th>
                        <th>
                            Телефон
                        </th>
                        <th>
                            Дата продажи
                        </th>
                        <th>
                            Изменить
                        </th>
                        <th>
                            Удалить
                        </th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model)
                    {
                        <tr>
                            <td>
                                @Html.DisplayFor(modelItem => item.Products.Name)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Clients.FullName)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Clients.Phone)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Date)
                            </td>
                            <td><a href="/Admin/SalesUpd/@Html.DisplayFor(modelItem => item.Id)" class="btn btn-primary" data-toggle="modal">Изменить</a></td>
                            <td><a href="/Admin/SalesDelete/@Html.DisplayFor(modelItem => item.Id)" class="btn btn-danger" data-toggle="modal">Удалить</a></td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>

@Html.Partial("~/Views/Shared/_AdminFooter.cshtml")


